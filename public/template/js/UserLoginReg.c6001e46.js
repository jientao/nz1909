(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["UserLoginReg"],{"013f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("uc-nav",{attrs:{arrow:"gray",bgColor:"transparent",borderWidth:0}}),a("h1"),a("div",{staticClass:"login-box"},[a("p",{staticClass:"lsolid"}),a("div",{staticClass:"login"},[a("router-link",{attrs:{to:"/login"}},[t._v("登录")]),a("span"),a("router-link",{attrs:{to:"/reg"}},[t._v("注册")])],1),a("p",{staticClass:"rsolid"})]),a("div",{staticClass:"input"},[a("uc-input",{attrs:{label:"账号",type:"text"},on:{login:t.login},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("uc-input",{attrs:{label:"密码",type:"password"},on:{login:t.login},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "+t._s(t.errMess)+" ")],1),a("div",{staticClass:"footbox"},[a("Button",{attrs:{text:"登 录"},on:{click:t.login}}),a("a",{staticClass:"tishi",attrs:{href:"javascript:;"}},[t._v("忘记密码？")])],1)],1)},n=[],r=(a("ac1f"),a("5319"),a("2a7d")),i=a("3e30"),o=a("b675"),u={name:"Login",props:{},data:function(){return{username:"",password:"",errMess:""}},components:{Button:r["a"],UcInput:i["a"],UcNav:o["a"]},mounted:function(){},updated:function(){},methods:{login:function(){var t=this;axios({url:"/api/login",method:"post",data:{username:this.username,password:this.password}}).then((function(e){0===e.data.err?(window.localStorage.setItem("user",JSON.stringify(e.data)),t.$store.commit("user/USER",e.data),t.username=t.password=t.errMess="",t.$route.query.p?t.$router.replace(t.$route.query.p):t.$router.replace("/user")):t.errMess=e.data.msg}))}}},c=u,l=(a("bb38"),a("2877")),p=Object(l["a"])(c,s,n,!1,null,"04749a7b",null);e["default"]=p.exports},"05c8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("uc-nav",{attrs:{arrow:"gray",bgColor:"transparent",borderWidth:0}}),a("h1",{attrs:{id:"h1"},on:{click:t.upload}}),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"}}),a("div",{staticClass:"login-box"},[a("p",{staticClass:"lsolid"}),a("div",{staticClass:"login"},[a("router-link",{attrs:{to:"/login"}},[t._v("登录")]),a("span"),a("router-link",{attrs:{to:"/reg"}},[t._v("注册")])],1),a("p",{staticClass:"rsolid"})]),a("div",{staticClass:"input"},[a("uc-input",{attrs:{label:"账号",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("uc-input",{attrs:{label:"密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"footbox"},[a("Button",{attrs:{text:"注 册"},on:{click:t.reg}}),a("a",{staticClass:"tishi",attrs:{href:"javascript:;"}},[t._v("忘记密码？")]),a("br"),t._v(" "+t._s(t.errorMess)+" ")],1)],1)},n=[],r=(a("ac1f"),a("5319"),a("2a7d")),i=a("b675"),o=a("3e30"),u={name:"Reg",props:{},data:function(){return{username:"",password:"",errorMess:""}},components:{Button:r["a"],UcNav:i["a"],UcInput:o["a"]},mounted:function(){},updated:function(){},methods:{upload:function(){var t=document.getElementById("file");t.click()},reg:function(){var t=this,e=new FormData;e.append("username",this.username),e.append("password",this.password);var a=document.getElementById("file");e.append("icon",a.files[0]),axios({url:"/api/reg",method:"post",data:e}).then((function(e){0===e.data.err?t.$router.replace("/login"):t.errorMess=e.data.msg}))}}},c=u,l=(a("432c"),a("2877")),p=Object(l["a"])(c,s,n,!1,null,"ebf79692",null);e["default"]=p.exports},"1a3e":function(t,e,a){},"2a7d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Button"},[a("input",{staticClass:"login-btn",style:{background:t.bgColor},attrs:{type:"button",value:t.text},on:{click:function(e){return t.$emit("click")}}})])},n=[],r={name:"Button",props:{text:{type:String,default:"按 钮"},bgColor:{type:String,default:"#4c4f50"}},data:function(){return{}},components:{},mounted:function(){},updated:function(){}},i=r,o=(a("aa1c"),a("2877")),u=Object(o["a"])(i,s,n,!1,null,"4a959e9e",null);e["a"]=u.exports},"3e30":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uc-input"},[a("input",{attrs:{type:t.type},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.$emit("login"):null}}}),a("span",[t._v(t._s(t.label))])])},n=[],r={name:"uc-input",props:{label:{type:String,default:"标题"},value:{type:String,default:""},type:{type:String,default:"text"}},data:function(){return{}},components:{},mounted:function(){},updated:function(){},methods:{}},i=r,o=(a("a396"),a("2877")),u=Object(o["a"])(i,s,n,!1,null,"4b4e26f2",null);e["a"]=u.exports},"432c":function(t,e,a){"use strict";var s=a("d620"),n=a.n(s);n.a},"83d1":function(t,e,a){},9400:function(t,e,a){},a396:function(t,e,a){"use strict";var s=a("9400"),n=a.n(s);n.a},aa1c:function(t,e,a){"use strict";var s=a("1a3e"),n=a.n(s);n.a},bb38:function(t,e,a){"use strict";var s=a("83d1"),n=a.n(s);n.a},bb4e:function(t,e,a){},d620:function(t,e,a){},d843:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t.$store.state.user.user.data?a("div",{staticClass:"header"},[a("h2",[a("img",{attrs:{src:t.$baseUrl+t.$store.state.user.user.data.icon,alt:""}})]),a("div",{staticClass:"user-box"},[a("a",[t._v(t._s(t.$store.state.user.user.data.nikename))]),a("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("注销")])]),a("ul",{staticClass:"clear"},[a("li",[a("span",[t._v(t._s(t.$store.state.user.user.data.follow))]),a("p",[t._v("关注")])]),a("li",[a("span",[t._v(t._s(t.$store.state.user.user.data.fans))]),a("p",{staticClass:"end"},[t._v("粉丝")])])])]):t._e(),t._m(0)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"docList"},[a("ul",[a("li",{staticClass:"gk-text"},[a("i"),a("p",[t._v("公开博文")]),a("b"),a("span",[t._v("0")])]),a("li",{staticClass:"mm-text"},[a("i"),a("p",[t._v("秘密博文")]),a("b"),a("span",[t._v("0")])]),a("li",{staticClass:"cg-text"},[a("i"),a("p",[t._v("草稿箱")]),a("b"),a("span",[t._v("0")])]),a("li",{staticClass:"sc-text"},[a("i"),a("p",[t._v("收藏夹")]),a("b"),a("span",[t._v("0")])]),a("li",{staticClass:"my_cz"},[a("i"),a("p",[t._v("收藏夹")])])])])}],r=(a("1a58"),{beforeRouteEnter:function(t,e,a){axios({url:"/api/user"}).then((function(t){0==t.data.err?a():a("/login")}))},name:"User",props:{},data:function(){return{}},components:{},mounted:function(){},updated:function(){},methods:{logout:function(){window.localStorage.removeItem("user"),this.$store.commit("user/USER",{err:1}),this.$router.push("/login")}}}),i=r,o=(a("eeb8"),a("2877")),u=Object(o["a"])(i,s,n,!1,null,"4c9f1dc4",null);e["default"]=u.exports},eeb8:function(t,e,a){"use strict";var s=a("bb4e"),n=a.n(s);n.a}}]);
//# sourceMappingURL=UserLoginReg.c6001e46.js.map